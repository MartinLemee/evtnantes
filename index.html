<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


	<title>Nantes metropole</title>
	<style>
		.message {
			color:red;
		}
	</style>
</head>
<body >
	<div id="demo">
		<div v-for="record in info" class="record">

		<pre>{{ record.records }};</pre>
		<span v-html=''> </span>

	</div>
	</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

	var apiURL = 'https://data.nantesmetropole.fr/api/records/1.0/search/?dataset=244400404_agenda-evenements-nantes-nantes-metropole&facet=emetteur&facet=rubrique&facet=lieu&facet=ville';

  var demo = new Vue({

    el: '#demo',

    data: {
				info: null
    },

		created: function () {
			this.fetchData()
		},

		watch: {
			currentRecord: 'fetchData'
		},

		filters: {

		},


		methods: {
			fetchData: function() {
				axios.get(apiURL)
				.then(response => (this.info = response))
				}
			}
	});

</script>
</html>
